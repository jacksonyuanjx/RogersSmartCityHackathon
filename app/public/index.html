<!DOCTYPE html>
<html>
    <head>
        <title>Test title</title>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.8.1/css/bulma.css"
		/>
		
		<script src="https://js.pusher.com/5.1/pusher.min.js"></script>
        <script
            defer
            src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"
        ></script>
    </head>
    <body>
        <nav class="navbar has-background-grey-dark" role="navigation" aria-label="main navigation">
            <div class="navbar-brand">
                <a class="navbar-item has-text-white" href="#" width="112" height="28">
                    <!-- <img src="https://bulma.io/images/bulma-logo.png" alt="Bulma: Free, open source, and modern CSS framework based on Flexbox" width="112" height="28"> -->
                    Smart City
                </a>

                <a
                    role="button"
                    class="navbar-burger"
                    aria-label="menu"
                    aria-expanded="false"
                >
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>
        </nav>

        <div class="columns" style="margin-top: 0px;">
            <div class="column is-one-quarter" style="height: 950px; overflow-y: scroll">
                <aside class="menu" style="margin-left: 1rem">
                    <p class="menu-label">
                        Incidents
                    </p>
                    <ul id="incidents-list" class="menu-list">
                        <!-- <li><a>Dashboard</a></li>
						<li><a>Customers</a></li> -->
                        <li>
                            <div class="card" style="margin-bottom: 10px;">
                                <header class="card-header">
                                    <p class="card-header-title">
                                        Intersection at Granville St &  W Broadway
                                    </p>
								</header>
								<div class="card-image">
									<figure class="image is-4by3">
									  <img src="https://cdn.cnn.com/cnnnext/dam/assets/151130053712-cars-china-traffic-levitate-vo-00001016-exlarge-169.jpg" alt="Placeholder image">
									</figure>
								  </div>
                                <div class="card-content">
                                    <div class="content">
										<ul style="list-style-type: none;">
											<li>
												<b>Incident Type: </b> Vehicle Collision
											</li>
											<li>
												<b>Victims: </b> Vehicle - Vehicle
											</li>
											<li>
												<b>Severity: </b> 5
											</li>
											<li>
												<b>Responder en route: </b> Yes
											</li>
										</ul>
                                        <!-- <a href="#">@bulmaio</a>. <a href="#">#css</a> <a href="#">#responsive</a> -->
                                        <br />
                                        <time datetime="2016-1-1">11:09 PM - 1 Jan 2016</time>
                                    </div>
                                </div>
                                <footer class="card-footer">
                                    <a href="#" class="card-footer-item">Re-assign</a>
                                    <a href="#" class="card-footer-item">Cancel</a>
                                </footer>
							</div>
                        </li>
                    </ul>
                    <!-- <p class="menu-label">
                        Administration
                    </p>
                    <ul class="menu-list">
                        <li><a>Team Settings</a></li>
                        <li>
                            <a class="is-active">Manage Your Team</a>
                            <ul>
                                <li><a>Members</a></li>
                                <li><a>Plugins</a></li>
                                <li><a>Add a member</a></li>
                            </ul>
                        </li>
                        <li><a>Invitations</a></li>
                        <li><a>Cloud Storage Environment Settings</a></li>
                        <li><a>Authentication</a></li>
                    </ul>
                    <p class="menu-label">
                        Transactions
                    </p>
                    <ul class="menu-list">
                        <li><a>Payments</a></li>
                        <li><a>Transfers</a></li>
                        <li><a>Balance</a></li>
                    </ul> -->
                </aside>
            </div>
            <div class="column is-three-quarters">
                <!-- <img src="https://media.giphy.com/media/3o6Zt7aSSZLX6U5WtW/source.gif">  -->
                <h1>Real Time Location</h1>

                <div id="googleMap" style="width:100%; height: 100%"></div>

                <script>

                    var myMarker;
                    
                    function myMap() {
						const mapProp = {
							center: new google.maps.LatLng(49.882114, -119.477829),
							zoom: 13,
						};
						const map = new google.maps.Map(document.getElementById("googleMap"), mapProp);

						myMarker = new google.maps.Marker({
							position: { lat: 49.8736, lng: -119.4939 },
							map: map,
							title: 'Hello World!',
							animation: google.maps.Animation.DROP,
                        });

                        myMarker.addListener("click", toggleBounce);

						document.addEventListener("dispatch_event", (evt) => {
							const marker = new google.maps.Marker({
								position: { lat: evt.detail.lat, lng: evt.detail.lng },
								map: map,
								title: 'Hello World!',
								animation: google.maps.Animation.DROP,
                            });
                            marker.addListener("click", toggleBounce);
                        }, false);
                        
                      }

                    
                      
                    function toggleBounce() {
                            if (myMarker.getAnimation() !== null) {
                                myMarker.setAnimation(null);
                            } else {
                                myMarker.setAnimation(google.maps.Animation.BOUNCE);
                            }
                        }
				</script>
			</div>
        </div>

		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBf0P8iZZuSidtqI8NgEkPwwxTs1spB858&callback=myMap"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="./js/index.js"></script>
    </body>
</html>
